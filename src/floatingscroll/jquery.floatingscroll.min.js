/*!
 * jQuery floatingscroll Plugin 1.0.1
 * supported by jQuery v1.3+
 *
 * http://plugins.jquery.com/project/floatingscroll
 * http://diapeira.1gb.ru/diapeira/jquery-plugins/floatingscroll.html
 *
 * Copyright (c) 2011-2012 Amphiluke
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(a){function b(c){this.cont={block:c[0],left:0,top:0,bottom:0,height:0,width:0};this.sbar=this.initScroll();this.resetBoundaries();this.visible=true;this.winScrollHandler();a(window).bind("scroll",(function(d){return function(){d.winScrollHandler()}})(this));this.sbar.bind("scroll",(function(d){return function(){d.sbarScrollHandler(this)}})(this));c.bind("scroll",(function(d){return function(){d.contScrollHandler(this)}})(this))}b.WEBKIT=(a.fn.jquery>="1.4")?a.browser.webkit:/(webkit)[ \/]([\w.]+)/i.exec(navigator.userAgent);b.SCRL_EL=document.documentElement;b.getWorkHeight=(b.WEBKIT)?function(){return window.innerHeight}:function(){return b.SCRL_EL.clientHeight};b.prototype.initScroll=function(){var c=a(document.createElement("div"));c.attr("class","fl-scrolls");a(document.createElement("div")).appendTo(c).css({width:this.cont.block.scrollWidth+"px"});a(document.body).append(c);return c};b.prototype.winScrollHandler=function(){var d=b.getWorkHeight()+b.SCRL_EL.scrollTop,c=((this.cont.bottom-d<=0)||(this.cont.top-d>0));if(!(this.visible^c)){this.visible=!this.visible;this.sbar.toggleClass("fl-scrolls-hidden")}};b.prototype.sbarScrollHandler=function(c){if(this.visible){this.cont.block.scrollLeft=c.scrollLeft}};b.prototype.contScrollHandler=function(c){if(!this.visible){this.sbar[0].scrollLeft=c.scrollLeft}};b.prototype.resetBoundaries=function(){var c=a(this.cont.block),d=c.offset();this.cont.height=c.outerHeight();this.cont.width=c.outerWidth();this.cont.left=d.left;this.cont.top=d.top;this.cont.bottom=d.top+this.cont.height;this.sbar.width(this.cont.width).css("left",d.left+"px");a("div",this.sbar).width(c[0].scrollWidth)};a.fn.attachScroll=function(){var c=this;a(window).resize(function(){c.trigger("adjustScroll")});return c.each(function(){a(this).bind("adjustScroll",(function(d){return function(){d.resetBoundaries()}})(new b(a(this))))})};a(document).ready(function(){if(b.WEBKIT){b.SCRL_EL=document.body}})})(jQuery);