/*!
 * jQuery floatingscroll Plugin 1.0.1
 * supported by jQuery v1.3+
 *
 * http://plugins.jquery.com/project/floatingscroll
 * http://diapeira.1gb.ru/diapeira/jquery-plugins/floatingscroll.html
 *
 * Copyright (c) 2011-2012 Amphiluke
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(c){var b=d.prototype,a=document.documentElement,e=function(){return a.clientHeight};(function(){var f=(c.fn.jquery>="1.4")?c.browser.webkit:/(webkit)[ \/]([\w.]+)/i.exec(navigator.userAgent);if(f){c(document).ready(function(){a=document.body});e=function(){return window.innerHeight}}})();function d(f){var g=this;g.cont={block:f[0],left:0,top:0,bottom:0,height:0,width:0};g.sbar=this.initScroll();g.resetBoundaries();g.visible=true;g.winScrollHandler();c(window).bind("scroll",function(){g.winScrollHandler()});g.sbar.bind("scroll",function(){g.sbarScrollHandler(this)});f.bind("scroll",function(){g.contScrollHandler(this)})}b.initScroll=function(){var f=c("<div/>");f.attr("class","fl-scrolls");c("<div/>").appendTo(f).css({width:this.cont.block.scrollWidth+"px"});c(document.body).append(f);return f};b.winScrollHandler=function(){var g=e()+a.scrollTop,f=((this.cont.bottom-g<=0)||(this.cont.top-g>0));if(this.visible==f){this.visible=!this.visible;this.sbar.toggleClass("fl-scrolls-hidden")}};b.sbarScrollHandler=function(f){if(this.visible){this.cont.block.scrollLeft=f.scrollLeft}};b.contScrollHandler=function(f){if(!this.visible){this.sbar[0].scrollLeft=f.scrollLeft}};b.resetBoundaries=function(){var f=c(this.cont.block),g=f.offset();this.cont.height=f.outerHeight();this.cont.width=f.outerWidth();this.cont.left=g.left;this.cont.top=g.top;this.cont.bottom=g.top+this.cont.height;this.sbar.width(this.cont.width).css("left",g.left+"px");c("div",this.sbar).width(f[0].scrollWidth)};c.fn.attachScroll=function(){var f=this;c(window).resize(function(){f.trigger("adjustScroll")});return f.each(function(){var g=c(this),h=new d(g);g.bind("adjustScroll",function(){h.resetBoundaries()})})}})(jQuery);