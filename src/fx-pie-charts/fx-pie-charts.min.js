/*!
 * fx-pie-charts.js
 * JavaScript module for pie charts plotting
 */
(function(f){var j=document,a=j.namespaces&&j.namespaces.add,d="getContext" in j.createElement("canvas"),g=(d)?e:b,c=Math.PI/180,h=["#000000","#800000","#008000","#000080","#C0C0C0","#FF0000","#00FF00","#0000FF","#808080","#800080","#808000","#008080","#FFFFFF","#FF00FF","#FFFF00","#00FFFF","#FFA500"];if(!(a||d)){return}if(a){j.namespaces.add("vml","urn:schemas-microsoft-com:vml");j.createStyleSheet().cssText="vml\\:group, vml\\:shape { behavior:url(#default#VML); position:absolute; }"}function i(o){var p=[],n=0,m;for(var l=0,k=o.length;l<k;l++){n+=+o[l]}m=360/n;for(l=0;l<k;l++){p.push(o[l]*m)}return p}function e(r){var n=(typeof r.container=="string")?j.getElementById(r.container):r.container,t=r.width||n.clientWidth,q=r.height||n.clientHeight,o=t/2,m=q/2,k=r.colors||h,x=k.length,w=i(r.data||n.getAttribute("data-fx-chart").split(/\s*,\s*/)),v=-90*c,p=j.createElement("canvas"),y=p.getContext("2d"),l=p.style;p.width=t;p.height=q;l.width=t+"px";l.height=q+"px";l.position="absolute";for(var s=0,u=w.length;s<u;s++){y.beginPath();y.moveTo(o,m);y.fillStyle=k[s%x];y.arc(o,m,o,v,(v-=w[s]*c),true);y.fill()}n.appendChild(p)}function b(p){var m=(typeof p.container=="string")?j.getElementById(p.container):p.container,r=p.width||m.clientWidth,o=p.height||m.clientHeight,n=r>>1,l=o>>1,k=p.colors||h,y=k.length,w=i(p.data||m.getAttribute("data-fx-chart").split(/\s*,\s*/)),v=90,z=j.createElement("vml:group"),u,t="m "+n+" "+l+" ae "+n+" "+l+" "+n+" "+l+" ",x=function(B){var A=B.style;A.width=r+"px";A.height=o+"px"};x(z);z.setAttribute("coordsize",r+" "+o);for(var q=0,s=w.length;q<s;q++){u=z.appendChild(j.createElement("vml:shape"));x(u);u.setAttribute("fillcolor",k[q%y]);u.setAttribute("stroked","false");u.setAttribute("path",t+Math.round(v*65535)+" "+Math.round(w[q]*65535)+" x e");v+=w[q]}m.appendChild(z)}if(f){f.fn.fxPieChart=function(m){if(!m){m={}}var l=(typeof m=="function"),k=function(o){var n=(l)?m.call(o,o):m;return(n.container)?n:f.extend({container:o},n)};return this.each(function(){g(k(this))})}}else{window.fxPieChart=g}})(window.jQuery);